{% set footer_show_participation = true %}

{% extends 'ambassador/register/layout.html.twig' %}

{% block layout_header %}

{% endblock %}

{% block register_notice %}
    <div class="mt-3">
        <p class="font-weight-bold">
            Les informations de cette page<br>
            sont indispensables à votre inscription.<br>
            Elles ne seront pas visibles sur le site (sauf le Pseudo).
        </p>
    </div>
{% endblock %}

{% block content %}
    <div class="ambassador-register-step-0">
        <div class="{# register-condition" #}">

            <p class="required_informations">{{ "page.ambassador.register.step_0.introduction"|trans|raw }}</p>


            {#        <p class="alert alert-warning text-center" id="not-eligible-message">Votre installation n'ayant pas été réalisée par un professionnel, nous ne pouvons pas être sûr de sa qualité. Vous n'êtes pas éligible au programme Ambassadeurs.</p>#}

            {% set form_url = ((contact is defined and contact != null) ? path('ambassador_register', {'hash': contact.hash}) : path('ambassador_register') ) %}
            {% set firstname_value = ((contact is defined and contact != null) ? contact.firstname : validator.value('firstname') ) %}
            {% set lastname_value = ((contact is defined and contact != null) ? contact.lastname : validator.value('lastname') ) %}
            {% set username_value = ((contact is defined and contact != null) ? contact.email : validator.value('username') ) %}

            <form action="{{ form_url }}" method="post">
                {% for element in form_properties %}
                    {% include ['ambassador/_forms/_properties/' ~ element ~ '.html.twig'] %}
                {% endfor %}

{#                <p class="mt-3"><small>{{ ('page.ambassador.register.step_0.text_end'|trans)}} <a id="refConditions" class="refConditions" style="color: #273a60 ;text-decoration: underline !important;" target="_blank" href="{{ path('static_page', {'slug': ('page.ambassador.register.step_0.lienMentions'|trans)}) }}">{{ ('page.ambassador.register.step_0.add_text_end'|trans)}}</a></small></p>#}

                {#<!-- <div class="g-recaptcha" data-sitekey="{{ google_recaptcha_key }}"></div> -->#}

                <div class="row mb-5 mt-5">
                    <div class="col"></div>
                    <div class="col text-right">
                        <button id="step0disabled" type="submit" class="btn btn-theme">{{ 'page.ambassador.register.step_0.submit_button'|trans }}</button>
                    </div>
                </div>
            </form>
        </div>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {

            $('form').submit(function (e) {

                //stop submitting the form to see the disabled button effect
                //e.preventDefault();

                //disable the submit button
                $("#step0disabled").prop('disabled', true);
               // alert("true");

                //disable a normal button
                // $("#btnTest").attr("disabled", true);

                return true;

            });
        });
    </script>
{% endblock %}
